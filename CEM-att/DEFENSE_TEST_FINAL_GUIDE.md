# ğŸ›¡ï¸ é˜²å¾¡æµ‹è¯•æœ€ç»ˆè§£å†³æ–¹æ¡ˆ

## ğŸ”§ é—®é¢˜è¯Šæ–­
ä»é”™è¯¯ä¿¡æ¯çœ‹å‡ºä¸¤ä¸ªä¸»è¦é—®é¢˜ï¼š
1. **è·¯å¾„é‡å¤åµŒå¥—**: `--filename` å‚æ•°å¯¼è‡´è·¯å¾„è¢«é‡å¤æ·»åŠ 
2. **Checkpointæ–‡ä»¶**: æ²¡æœ‰ `checkpoint_f_best.tar`ï¼Œä½†æœ‰ `checkpoint_f_240.tar`

## âœ… è§£å†³æ–¹æ¡ˆ

### **æ–¹æ³•1: è‡ªåŠ¨æ™ºèƒ½è„šæœ¬ï¼ˆæœ€æ¨èï¼‰**
```bash
python run_auto_defense_test.py
```
- âœ… è‡ªåŠ¨æ£€æµ‹æ‰€æœ‰checkpointæ–‡ä»¶
- âœ… æ™ºèƒ½é€‰æ‹©æœ€ä½³æ¨¡å‹ï¼ˆbest > 240 > æœ€å¤§epochï¼‰
- âœ… è‡ªåŠ¨å¤„ç†è·¯å¾„é—®é¢˜
- âœ… è¯¦ç»†é”™è¯¯è¯Šæ–­

### **æ–¹æ³•2: ä¿®å¤ç‰ˆè„šæœ¬**
```bash 
bash run_defense_final.sh
```
- âœ… æ™ºèƒ½æ£€æµ‹bestæˆ–240 checkpoint
- âœ… ä¿®å¤è·¯å¾„é‡å¤é—®é¢˜
- âœ… è¯¦ç»†æ—¥å¿—è¾“å‡º

## ğŸ“Š é¢„æœŸè¾“å‡º

æˆåŠŸè¿è¡Œååº”è¯¥çœ‹åˆ°ï¼š
```
Attack Test Results:
Average MSE: 0.xxxx
Average SSIM: 0.xxxx  
Average PSNR: xx.xx
```

## ğŸ¯ å…³é”®æŒ‡æ ‡å«ä¹‰

| æŒ‡æ ‡ | å«ä¹‰ | ç†æƒ³å€¼ |
|------|------|---------|
| **MSE** | æ”»å‡»é‡å»ºè¯¯å·® | â†“ è¶Šä½è¶Šå¥½ |
| **SSIM** | ç»“æ„ç›¸ä¼¼åº¦ | â†“ è¶Šä½è¶Šå¥½ |
| **PSNR** | å³°å€¼ä¿¡å™ªæ¯” | â†‘ è¶Šé«˜è¶Šå¥½ |

## ğŸ” å¦‚æœä»ç„¶å¤±è´¥

1. **æ£€æŸ¥æ¨¡å‹æ–‡ä»¶**:
   ```bash
   find saves/ -name "checkpoint_f_*.tar"
   ```

2. **æ‰‹åŠ¨æŒ‡å®šcheckpoint**:
   ä¿®æ”¹è„šæœ¬ä¸­çš„ `--test_best` ä¸º `--num_epochs 240`

3. **æŸ¥çœ‹è¯¦ç»†é”™è¯¯**:
   ```bash
   python run_auto_defense_test.py 2>&1 | tee defense_test.log
   ```

## ğŸš€ æ¨èæ‰§è¡Œæ­¥éª¤

1. **é¦–é€‰è‡ªåŠ¨è„šæœ¬**:
   ```bash
   cd CEM-att
   python run_auto_defense_test.py
   ```

2. **å¦‚æœå¤±è´¥ï¼Œå°è¯•å¤‡ç”¨è„šæœ¬**:
   ```bash
   bash run_defense_final.sh
   ```

3. **æ£€æŸ¥ç»“æœ**:
   - æŸ¥çœ‹MSEã€SSIMã€PSNRæ•°å€¼
   - ä¸åŸå§‹GMMç‰ˆæœ¬å¯¹æ¯”
   - éªŒè¯Attentionæœºåˆ¶çš„é˜²å¾¡æ•ˆæœ

---

**ç°åœ¨åœ¨LinuxæœåŠ¡å™¨ä¸Šè¿è¡Œ `python run_auto_defense_test.py` å³å¯ï¼** ğŸ¯
