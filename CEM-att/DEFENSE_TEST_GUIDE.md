# ğŸ›¡ï¸ CEM-att é˜²å¾¡æ•ˆæœæµ‹è¯•æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æ‚¨å·²ç»å®Œæˆäº†æ¨¡å‹è®­ç»ƒï¼ˆå‡†ç¡®ç‡84.55%ï¼‰ï¼Œç°åœ¨åªéœ€è¦æµ‹è¯•é˜²å¾¡æ•ˆæœï¼ˆæ”»å‡»æµ‹è¯•é˜¶æ®µï¼‰ã€‚

## ğŸš€ å¿«é€Ÿä½¿ç”¨

### **æ–¹æ³•1: ç®€å•è„šæœ¬ï¼ˆæ¨èï¼‰**
```bash
cd CEM-att
bash run_defense_only.sh
```

### **æ–¹æ³•2: æ™ºèƒ½è„šæœ¬**
```bash
cd CEM-att
python run_smart_defense_test.py
```

### **æ–¹æ³•3: æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æ¨¡å‹**
```bash
python run_smart_defense_test.py --list
```

## ğŸ“‚ å·²æ£€æµ‹åˆ°çš„æ¨¡å‹

```
saves/cifar10/SCA_new_attention_fixed_lg1_thre0.125/saves/cifar10/SCA_new_attention_fixed_lg1_thre0.125/CEM_log_entropy1_cifar10_cutlayer4_archvgg11_bn_sgm_schemeV2_epoch_n_epochs240_batch_size128_lr0.05_regulastr0.025_bottlenecknoRELU_C8S1_SCA_new0.3_randomseed125_ssim0.5_lambd16
```

**è®­ç»ƒå‚æ•°**:
- Lambda: 16
- æ­£åˆ™åŒ–å¼ºåº¦: 0.025  
- è®­ç»ƒè½®æ•°: 240
- æ‰¹å¤§å°: 128
- å­¦ä¹ ç‡: 0.05

## ğŸ“Š é¢„æœŸè¾“å‡ºæŒ‡æ ‡

### **å…³é”®é˜²å¾¡æŒ‡æ ‡**:

1. **MSE (å‡æ–¹è¯¯å·®)**
   - æ•°å€¼è¶Šä½ = é˜²å¾¡æ•ˆæœè¶Šå¥½
   - è¡¨ç¤ºæ”»å‡»é‡å»ºå›¾åƒä¸åŸå›¾çš„å·®å¼‚

2. **SSIM (ç»“æ„ç›¸ä¼¼åº¦)**
   - æ•°å€¼è¶Šä½ = é˜²å¾¡æ•ˆæœè¶Šå¥½
   - è¡¨ç¤ºæ”»å‡»é‡å»ºå›¾åƒçš„ç»“æ„ç›¸ä¼¼ç¨‹åº¦

3. **PSNR (å³°å€¼ä¿¡å™ªæ¯”)**
   - æ•°å€¼è¶Šé«˜ = é˜²å¾¡æ•ˆæœè¶Šå¥½
   - è¡¨ç¤ºä¿¡å·è´¨é‡å’Œå™ªå£°æ¯”

### **è¾“å‡ºç¤ºä¾‹**:
```
Attack Test Results:
MSE: 0.1234
SSIM: 0.2345  
PSNR: 28.567
```

## ğŸ¯ ç»“æœåˆ†æ

### **ä¸åŸå§‹CEM-main (GMM)å¯¹æ¯”**:

| æŒ‡æ ‡ | GMMåŸºçº¿ | Attention | æ”¹è¿›æ–¹å‘ |
|------|---------|-----------|----------|
| MSE  | X.XXX   | Y.YYY     | â†“ æ›´ä½æ›´å¥½ |
| SSIM | X.XXX   | Y.YYY     | â†“ æ›´ä½æ›´å¥½ |
| PSNR | X.XXX   | Y.YYY     | â†‘ æ›´é«˜æ›´å¥½ |

### **æˆåŠŸæ ‡å‡†**:
- âœ… **MSEé™ä½** â†’ Attentioné˜²å¾¡æ›´å¼º
- âœ… **SSIMé™ä½** â†’ æ”»å‡»é‡å»ºè´¨é‡æ›´å·®  
- âœ… **PSNRæå‡** â†’ éšç§ä¿æŠ¤æ›´å¥½

## ğŸ”§ æ•…éšœæ’é™¤

### **å¦‚æœæµ‹è¯•å¤±è´¥**:

1. **æ£€æŸ¥GPUçŠ¶æ€**:
   ```bash
   nvidia-smi
   ```

2. **ä½¿ç”¨CPUæµ‹è¯•**:
   ```bash
   python run_smart_defense_test.py --cpu
   ```

3. **é‡æ–°ç”Ÿæˆæµ‹è¯•æ•°æ®**:
   ```bash
   python generate_test_data.py
   ```

4. **æŸ¥çœ‹å¯ç”¨æ¨¡å‹**:
   ```bash
   python run_smart_defense_test.py --list
   ```

## ğŸ“ æ–‡ä»¶è¯´æ˜

- `run_defense_only.sh` - ç®€å•é˜²å¾¡æµ‹è¯•è„šæœ¬
- `run_smart_defense_test.py` - æ™ºèƒ½é˜²å¾¡æµ‹è¯•è„šæœ¬
- `generate_test_data.py` - ç”Ÿæˆæµ‹è¯•æ•°æ®
- `test_cifar10_image.pt` - æ”»å‡»æµ‹è¯•å›¾åƒ
- `test_cifar10_label.pt` - æ”»å‡»æµ‹è¯•æ ‡ç­¾

## â±ï¸ é¢„è®¡è¿è¡Œæ—¶é—´

- **æ”»å‡»æµ‹è¯•**: çº¦10-30åˆ†é’Ÿï¼ˆå–å†³äºGPUæ€§èƒ½ï¼‰
- **æ€»è¾“å‡º**: åŒ…å«è¯¦ç»†çš„MSEã€SSIMã€PSNRæŒ‡æ ‡

## ğŸ‰ æˆåŠŸå®Œæˆå

æ‚¨å°†è·å¾—ï¼š
1. âœ… **å®Œæ•´çš„é˜²å¾¡æ•ˆæœè¯„ä¼°**
2. âœ… **Attention vs GMMçš„å¯¹æ¯”æ•°æ®**  
3. âœ… **è®ºæ–‡å®éªŒæ‰€éœ€çš„å…³é”®æŒ‡æ ‡**
4. âœ… **éªŒè¯Attentionæœºåˆ¶çš„é˜²å¾¡ä¼˜åŠ¿**

---

**ç›´æ¥åœ¨LinuxæœåŠ¡å™¨ä¸Šè¿è¡Œ `bash run_defense_only.sh` å³å¯ï¼** ğŸš€
